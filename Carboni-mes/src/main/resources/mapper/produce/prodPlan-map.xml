<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.carboni.prj.produce.mapper.ProdPlanMapper">

	<select id="findUnprod" resultType="co.carboni.prj.produce.vo.ProdPlanVO">
		SELECT * FROM PRODREQ
		WHERE
		PRCLOSE >= TO_DATE(#{startDt}, 'YYYY/MM/DD')
		AND
		TO_DATE(#{endDt}, 'YYYY/MM/DD') >= PRCLOSE
		AND
		PRSTATUS = 'N'
	</select>
	
	<select id="findProduct" resultType="co.carboni.prj.produce.vo.ProdPlanVO">
		SELECT z.gicode, z.giname, z.giunit, x.prnum, y.cnperiod, y.cnam
		FROM prodreq x, contract y, goodsinfo z
		WHERE y.cnnum = x.cnnum
		AND y.gicode = z.gicode;
	</select>
	
</mapper>