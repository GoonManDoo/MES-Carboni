<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">
<head>
<meta charset="UTF-8">
<style>
#modal {
	display: none;
}

.tui-datepicker {
	z-index: 99;
}

.mg5 {
	margin-top: 5px;
}

.ht {
	height: 28px;
}
</style>
</head>
<body>
	<th:block layout:fragment="main">
		<div>
			<!-- 전체를 관통  -->
			<div class="container-fluid px-4">
				<h1 class="mt-4">출고관리</h1>
				<div class="card mb-2">
					<div class="card-header">
						<div style="display: flex; justify-content: flex-end;">
							<button type="button" id="saveBtn" class="btn btn-secondary"
								style="margin-right: 5px;">저장</button>
							<button type="button" id="removeBtn" class="btn btn-secondary"
								style="margin-right: 5px;">삭제</button>
						</div>
					</div>
				</div>

				<div class="card mb-2 ">
					<div class="card-body">
						<form autocomplete="off" id="dataForm">
							<div class="col-6">
								<table class="table table-bbs">
									<tbody>
										<!-- 출고일자 조회  -->
										<tr>
											<th><label>출고일자</label></th>
											<td colspan="3">
												<div
													class="tui-datepicker-input tui-datetime-input tui-has-focus">
													<input type="text" class="form-control" id="outDt"
														aria-label="Date-Time" tabindex="1"> <span
														class="tui-ico-date"></span>
												</div>
												<div id="wrapper" style="margin-top: -1px;"></div>
											</td>
										</tr>
										<!-- 출고 공정 조회 -->
										<tr>
											<th><label>출고공정</label></th>
											<td><input type="text" class="form-control ht"
												tabindex="2" id="outBtn" placeholder="출고공정검색"></td>
											<th><label>공정명</label></th>
											<td><input type="text" class="form-control ht"
												readonly></td>
										</tr>
									</tbody>
								</table>
							</div>
							<div class="container-fluid px-4 mb-2">
								<div style="display: flex; justify-content: flex-end;">
									<button type="button" class="btn btn-secondary"
										style="margin-right: 5px;">추가</button>
									<button type="button" class="btn btn-secondary"
										style="margin-right: 5px;">삭제</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
			<div class="container-fluid px-4">
				<div id="grid"></div>
			</div>
			<div id="modal">
				<div id="outmodal">
					<div id="outgtid"></div>
				</div>
			</div>
		</div>
		<script>
			const datepicker = new tui.DatePicker('#wrapper', {
				date : new Date(),
				input : {
					element : '#outDt',
					format : 'yyyy-MM-dd'
				},
				language : 'ko'

			});

			const gridData = [];

			const grid = new tui.Grid({
				el : document.getElementById('grid'),
				data : gridData,
				scrollX : false,
				bodyHeight : 500,
				rowHeaders : [ 'checkbox' ],
				columns : [ {
					header : '자재코드',
					sortingType : 'desc',
					align : 'center',
					sortable : true
				}, {
					header : '자재명',
					align : 'center'
				}, {
					header : '규격',
					align : 'center'
				}, {
					header : '자재단위',
					align : 'center'
				}, {
					header : '출고량',
					align : 'center'
				}, {
					header : '자재LOT.NO',
					align : 'center'
				}, {
					header : '비고',
					align : 'center'
				} ]
			});

			$(function() {
				/*메이크 모달*/
				function makeModal(e) {
					var dialog = $(e).dialog({
						autoOpen : false,
						height : 600,
						width : 700,
						modal : true,
					})
					$('.ui-dialog-titlebar-close').html('X').css('border',
							'none')
					return dialog;
				}
				var outmo = makeModal("#outmodal")

				$("#outBtn").on(
						'click',
						function() {
							$("#outmodal").css('display', '')
							outmo.dialog({
								buttons : {
									'확인' : outcheck,
									'취소' : function() {
										$(this).dialog('close')
									}
								}
							})
							$('.ui-dialog-buttonset').children().attr('class',
									'btn btn-secondary')
							outmo.dialog('open')
							outgd.refreshLayout();
						})
				/*출고공정명 모달 생성 됬을떄*/
				function outcheck() {

				}
				const outdata = [];
				let outgd = new tui.Grid({
					el : document.getElementById('outgtid'),
					data : outdata,
					scrollX : false,
					rowHeaders : [ 'checkbox' ],
					bodyHeight : 430,
					columns : [ {
						header : '공정정보',
						align : 'center',
						sortingType : 'desc',
						sortable : true
					}, {
						header : '공정코드',
						align : 'center',

					}, {
						header : '소요일수',
						align : 'center',

					} ]
				});
			})
		</script>
	</th:block>
</body>
</html>