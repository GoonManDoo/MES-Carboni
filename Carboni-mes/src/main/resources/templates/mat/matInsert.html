<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">
<head>
<meta charset="UTF-8">
<script>
	
</script>


<style>
  #modal {

      display: none;
    }
ul {
	list-style: none;
}

.subtitle {
	text-decoration: none;
	font-size: 20px;
	margin: 2px 0px 2px;
	width: 400px;
}

.grid-option-area {
	display: flex;
	text-align: justify;
	justify-content: space-between;
	margin-bottom: 10px;
}

.tui-datepicker {
	z-index: 99;
}

.ht {
	height: 28px;
}
</style>

</head>
<body class="sb-nav-fixed">
	<th:block layout:fragment="main">
		<div class="container-fluid px-4">
			<h1 class="mt-4">ì…ê³ ê´€ë¦¬</h1>
			<div class="card mb-2">
				<div class="card-header">
					<div style="display: flex; justify-content: flex-end;">
						<button type="button" id="saveBtn" class="btn btn-secondary"
							style="margin-right: 5px;">ì €ì¥</button>
						<button type="button" id="removeBtn" class="btn btn-secondary"
							style="margin-right: 5px;">ì‚­ì œ</button>
					</div>
				</div>
			</div>

			<!-- ë²„íŠ¼ ë  -->
			<div class="card mb-2">
				<div class="card-body">
					<!-- ê²€ìƒ‰í¼  -->
					<form autocomplete="off" id="dataForm">
						<div class="container-fluid"
							style="display: flex; flex-flow: row wrap; justify-content: space-between;">
							<!-- ì…ê³ ì¼ì ì…ê³ ì—…ì²´ ì—…ì²´ëª… íŠ¹ê¸°ì‚¬í•­   -->
							<div class="item ">
								<table class="table table-bbs">
									<tbody>
										<!-- ì¼ìê²ìƒ‰ -->
										<tr>
											<th><label>ì…ê³ ì¼ì</label></th>
											<td colspan="4">
												<div class="mt-1">
													<div
														class="tui-datepicker-input tui-datetime-input tui-has-focus">
														<input type="text" id="startpicker-input"
															class="form-control" aria-label="Date-Time" tabindex="1">
														<span class="tui-ico-date "></span>
														<div id="startpicker-container" style="margin-left: -1px;"></div>
													</div>

													<span class="mg5">~</span>
													<div
														class="tui-datepicker-input tui-datetime-input tui-has-focus">
														<input type="text" id="endpicker-input"
															class="form-control" aria-label="Date-Time" tabindex="1">
														<span class="tui-ico-date "></span>
														<div id="endpicker-container" style="margin-left: -1px;"></div>
													</div>
												</div>
											</td>
										</tr>
										<!-- ì…ê³ ì—…ì²´  -->
										<tr>
											<th>ì…ê³ ì—…ì²´</th>
											<td><input type="text" id="planDt"
												class="form-control ht" maxlength="10" tabindex="2"></td>
											<td><button type="button" class="btn btn-secondary"
													style="margin-right: 5px;" id="searchBtn">ğŸ”</button></td>
											<th><label>ì—…ì²´ëª…</label></th>
											<td><input type="text" class="form-control ht"
												readonly></td>
										</tr>
										<tr>
											<th>íŠ¹ì´ì‚¬í•­</th>
											<td><input type="text" id="remark"
												class="form-control ht" maxlength="10" tabindex="2"></td>
											<td colspan="3">
										</tr>
									</tbody>
								</table>
							</div>

							<!-- ë°œì£¼ì¼ì ì¡°íšŒ  -->
							<div class="item col-5 border"
								style="width: 600px; height: 100px; margin: 10px;">
								<div class="grid-option-area mt-1">
									<ul>
										<li>
											<h3 class="subtitle"
												style="margin: 15px 0px 2px; width: 400px; font-size: 16px; font-weight: bold;">
												ë°œì£¼ì¡°íšŒ</h3>
										</li>
										<li class="mt-1 grid-option-area"
											style="margin: 10px; padding: 5px 0px 0px 5px;">
											<div>
												<label class="mg5">ë°œì£¼ì¼ì</label>
												<!--ê²€ìƒ‰ ì‹œì‘ì¼ -->
												<div
													class="tui-datepicker-input tui-datetime-input tui-has-focus mg5">
													<input id="orderSdate" type="text" class="form-control"
														aria-label="Date"> <span class="tui-ico-date"></span>
													<div id="orderSdate-wapper" style="margin-left: -1px;"></div>
												</div>

												<span class="mg5">~</span>

												<div
													class="tui-datepicker-input tui-datetime-input tui-has-focus mg5">
													<input id="orderEdate" type="text" class="form-control"
														aria-label="Date"> <span class="tui-ico-date"></span>
													<div id="orderEdate-wapper" style="margin-left: -1px;"></div>
												</div>
												<button type="button" class="btn btn-secondary btn-block"
													id="btnModal">ê²€ìƒ‰</button>
											</div>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		<div id="grid" class="container-fluid px-4"></div>

		<div id="modal">

			<div id="inmodal" title="ë°œì£¼ë‚´ìš©">
				<div id="ingrid"></div>
			</div>

			<div id="searchmodal" title="ê¸°ì—… ëª…">
				<div id="goupgrid"></div>
			</div>
		</div>

		<!-- ê·¸ë¦¬ë“œ ë‚´ìš©  -->
		<script>
			/* ì…ê³ ì¼ì ë°ì´íŠ¸ í”¼ì»¤  */
			var today = new Date();
			var picker = tui.DatePicker.createRangePicker({
				startpicker : {
					date : today,
					input : '#startpicker-input',
					container : '#startpicker-container'
				},
				endpicker : {
					date : today,
					input : '#endpicker-input',
					container : '#endpicker-container'
				},
				selectableRanges : [ [
						today,
						new Date(today.getFullYear() + 1, today.getMonth(),
								today.getDate()) ] ]
			});

			/* ë°œì£¼ì¼ì ë°ì´íŠ¸ í”¼ì»¤  */
			var today = new Date();
			var picker = tui.DatePicker.createRangePicker({
				startpicker : {
					date : today,
					input : '#orderSdate',
					container : '#orderSdate-wapper'
				},
				endpicker : {
					date : today,
					input : '#orderEdate',
					container : '#orderEdate-wapper'
				},
				selectableRanges : [ [
						today,
						new Date(today.getFullYear() + 1, today.getMonth(),
								today.getDate()) ] ]
			});

			const gridData = [];
		

			const grid = new tui.Grid({
				el : document.getElementById('grid'),
				data : gridData,
				scrollX : false,
				bodyHeight : 500,
				rowHeaders : [ 'checkbox' ],
				columns : [ {
					header : 'ìì¬ì½”ë“œ',
					sortingType : 'desc',
					align : 'center',
					sortable : true
				}, {
					header : 'ìì¬ëª…',
					align : 'center'
				}, {
					header : 'ê·œê²©',
					align : 'center'
				}, {
					header : 'ìì¬ë‹¨ìœ„',
					align : 'center'
				}, {
					header : 'ë°œì£¼ë²ˆí˜¸',
					align : 'center'
				}, {
					header : 'ì…ê³ ëŸ‰',
					align : 'center',
					editor : 'text'
				}, {
					header : 'ìì¬ LOT.NO',
					align : 'text'
				}, {
					header : 'íŠ¹ê¸°ì‚¬í•­',
					align : 'center'
				} ],
				summary : {
					height : 40,
					position : 'bottom',
					columnContent : {
						c6 : {
							template : function(valueMap) {
								return `TOTAL: ${valueMap.sum}`;
							}
						}
					}
				}
			});
			
			$(function(){
				
				/*ë©”ì´í¬ ëª¨ë‹¬*/
				function makeModal(e) {
					var dialog = $(e).dialog({
						autoOpen : false,
						height : 600,
						width : 700,
						modal : true,
					});
					$('.ui-dialog-titlebar-close').html('X').css('border',
							'none')
					return dialog;
				}
				
				var inmo=makeModal("#inmodal")
				/*ë°œì£¼ì¼ì ê²€ìƒ‰ ëª¨ë‹¬*/
				$("#btnModal").on('click',function(){
					$("#inmodal").css('display','')
					inmo.dialog({
						buttons:{
							'í™•ì¸' : inupdate,
							'ì·¨ì†Œ' : function(){
								$(this).dialog('close')
							}
						}
					})
					$('.ui-dialog-buttonset').children().attr('class', 'btn btn-secondary')
					inmo.dialog('open')
					inmod.refreshLayout();
					
				})
				/*ì„±ê³µí–ˆì„ë•Œ ì—…ë°ì´íŠ¸*/
				function inupdate(){
					
				}
				/*ë°œì£¼ì¼ì ê²€ìƒ‰ ê·¸ë¦¬ë“œ */
				const indata=[];
				let inmod= new tui.Grid({
					el : document.getElementById('ingrid'),
					data : inupdate,
					scrollX : false,
					rowHeaders : [ 'checkbox' ],
					bodyHeight : 430,
					columns : [ {
						header : 'ë°œì£¼ì½”ë“œ',
						align : 'center',
						sortingType : 'desc',
						sortable : true
					}, {
						header : 'ë°œì£¼ì¼ì',
						align : 'center',
						
					}, {
						header : 'ìì¬ì½”ë“œ',
						align : 'center',
						sortingType : 'desc',
						sortable : true
					}, {
						header : 'ìì¬ëª…',
						align : 'center',
					} ]
					
				})
				
				var log=makeModal("#searchmodal")
				
				/* ê¸°ì—…ëª©ë¡ ëª¨ë‹¬ */
					$("#searchBtn").on("click",function(){
						$("#searchmodal").css('display','')
						log.dialog({
							buttons :{
								'í™•ì¸': giup,
								'ì·¨ì†Œ' : function(){
									$(this).dialog('close')
								}
							}
						})
						$('.ui-dialog-buttonset').children().attr('class', 'btn btn-secondary')
						log.dialog('open')
						gomo.refreshLayout();
					})
					/*ê¸°ì—…ëª¨ë‹¬ì—ì„œ í™•ì¸ ëˆŒë €ì„ë–„ */
				function giup() {

					}
				const  giupdata = [];

				let gomo= new tui.Grid({
					el : document.getElementById('goupgrid'),
					data :  giupdata,
					scrollX : false,
					rowHeaders : [ 'checkbox' ],
					bodyHeight : 430,
					columns : [ {
						header : 'ê±°ë˜ì²˜ì½”ë“œ',
						align : 'center',
					}, {
						header : 'ê±°ë˜ì²˜ëª…',
						align : 'center',
						sortingType : 'desc',
						sortable : true
					}, {
						header : 'ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸',
						align : 'center',
					}]
				});
				
				
				
				
				
				
				
			})
			
	
		</script>
	</th:block>
</body>
</html>